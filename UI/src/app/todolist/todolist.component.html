<nav class="navbar navbar-expand navbar-dark bg-dark">
	<div class="container">
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07XL"
			aria-controls="navbarsExample07XL" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<a routerLink="/todolist" class="navbar-brand">Todo UI</a>
		<div class="collapse navbar-collapse" id="navbarsExample07XL">
			<ul class="navbar-nav mr-auto">
				<li class="nav-item">
					<a routerLink="/archivetasks" class="nav-link">Archive</a>
				</li>
			</ul>
			<form class="form-inline my-2 my-md-0">
				<input class="form-control" type="text" placeholder="Search" aria-label="Search">
			</form>
		</div>
	</div>
</nav>
<div class="container">
	<div class="row">
		<div class="buttonContainer">
			<a type="button" class="btn btn-primary" (click)="open(content)">Add</a>
		</div>
	</div>
</div>
<div class="container">
	<div class="row">
		<div class="col-md-4 border border-right-0 border-dark p-0 m-0" dragula="Spill">
			<div class="card border border-top-0 border-right-0 border-left-0 border-dark rounded-0">
				<div class="card-body">
					<div>
						<h4 class="text-center">To Do</h4>
					</div>
				</div>
			</div>
			<div *ngFor="let card of cardsTodo" class="card border border-dark p-1 m-1">
				<div class="card-body">
					<h5 class="card-title">{{card.taskName}} {{card.createDate | date:'dd-MM-yyyy HH-mm'}}</h5>
					<p class="card-text">{{card.description}}</p>
					<img src="assets/img/edit.svg" width="32" height="32" class="cursorPointer"
						(click)="editTodoCard(card.id, card.taskName, card.createDate, card.description, card.status)" />
					<img src="assets/img/delete.svg" width="32" height="32" class="cursorPointer"
						(click)="openConfirmationDialog(card.id)" />
					<img src="assets/img/archive.svg" width="32" height="32" class="cursorPointer"
						(click)="addToArchive(card.id, card.taskName, card.createDate, card.description)" />
				</div>
			</div>
		</div>
		<div class="col-md-4 border border-right-0 border-dark p-0 m-0" dragula="Spill">
			<div class="card border border-top-0 border-right-0 border-left-0 border-dark rounded-0">
				<div class="card-body">
					<div>
						<h4 class="text-center">In Progress</h4>
					</div>
				</div>
			</div>
			<div *ngFor="let card of cardsInProgress" class="card border border-dark p-1 m-1">
				<div class="card-body">
					<h5 class="card-title">{{card.taskName}} {{card.createDate | date:'dd-MM-yyyy HH-mm'}}</h5>
					<p class="card-text">{{card.description}}</p>
					<img src="assets/img/edit.svg" width="32" height="32" class="cursorPointer"
						(click)="editTodoCard(card.id, card.taskName, card.createDate, card.description, card.status)" />
					<img src="assets/img/delete.svg" width="32" height="32" class="cursorPointer"
						(click)="openConfirmationDialog(card.id)" />
					<img src="assets/img/archive.svg" width="32" height="32" class="cursorPointer"
						(click)="addToArchive(card.id, card.taskName, card.createDate, card.description)" />
				</div>
			</div>
		</div>
		<div class="col-md-4 border border-dark p-0 m-0" dragula="Spill">
			<div class="card border border-top-0 border-right-0 border-left-0 border-dark rounded-0">
				<div class="card-body">
					<div>
						<h4 class="text-center">Done</h4>
					</div>
				</div>
			</div>
			<div *ngFor="let card of cardsDone" class="card border border-dark p-1 m-1">
				<div class="card-body">
					<h5 class="card-title">{{card.taskName}} {{card.createDate | date:'dd-MM-yyyy HH-mm'}}</h5>
					<p class="card-text">{{card.description}}</p>
					<img src="assets/img/edit.svg" width="32" height="32" class="cursorPointer"
						(click)="editTodoCard(card.id, card.taskName, card.createDate, card.description, card.status)" />
					<img src="assets/img/delete.svg" width="32" height="32" class="cursorPointer"
						(click)="openConfirmationDialog(card.id)" />
					<img src="assets/img/archive.svg" width="32" height="32" class="cursorPointer"
						(click)="addToArchive(card.id, card.taskName, card.createDate, card.description)" />
				</div>
			</div>
		</div>
	</div>
</div>
<ng-template #content bs-modal>
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">{{ modalTitle }}</h4>
		<button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="modal-body">
		<div class="form-group">
			<label for="taskName" class="col-form-label">Title:</label>
			<input id="taskName" name="taskName" class="form-control" [class.is-invalid]="isfailedTaskName()"
				[(ngModel)]="taskName" type="text" (keyup)="valueChangeTaskName()">
			<div class="invalid-feedback">
				{{ errorMessageTaskName }}
			</div>
		</div>
		<div class="form-group">
			<label for="description" class="col-form-label">Description:</label>
			<textarea id="description" name="description" class="form-control"
				[class.is-invalid]="isfailedDescription()" (keyup)="valueChangeDescription()"
				[(ngModel)]="description"></textarea>
			<div class="invalid-feedback">
				{{ errorMessageDescription }}
			</div>
		</div>
	</div>
	<div class="modal-footer">
		<button type="button" class="btn btn-secondary" (click)="modal.dismiss('Cross click')">Close</button>
		<button type="button" class="btn btn-outline-dark" (click)="prepareAddAndEditTodoCard()">Save</button>
	</div>
</ng-template>